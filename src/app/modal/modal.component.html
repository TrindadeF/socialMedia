<div class="modal" [ngClass]="{ 'is-active': showModal }">
  <div class="modal-background" (click)="closeModal()"></div>
  <div class="modal-content">
    <div class="box">
      <h2>{{ "MODAL.TITLE" | translate }}</h2>

      <!-- Área de texto -->
      <textarea
        class="form-control mb-2"
        placeholder="{{ 'MODAL.PLACEHOLDER' | translate }}"
        [(ngModel)]="postContent"
        (input)="checkFormValidity()"
      ></textarea>

      <!-- Seção de upload de mídia -->
      <div class="d-flex align-items-center mb-2">
        <label class="mr-2" for="upload-image" style="cursor: pointer">
          <mat-icon>{{ "MODAL.UPLOAD_IMAGE" | translate }}</mat-icon>
          <input
            type="file"
            id="upload-image"
            accept="image/*"
            style="display: none"
            (change)="onMediaSelected($event)"
          />
        </label>

        <label class="mr-2" for="upload-media" style="cursor: pointer">
          <mat-icon>{{ "MODAL.UPLOAD_MEDIA" | translate }}</mat-icon>
          <input
            type="file"
            id="upload-media"
            accept="image/*,video/*"
            style="display: none"
            (change)="onMediaSelected($event)"
            multiple
          />
        </label>

        <img
          id="preview-image"
          class="preview-image mt-2"
          style="display: none; max-width: 25%"
          alt="{{ 'MODAL.PREVIEW_IMAGE_ALT' | translate }}"
        />
        <video
          id="preview-video"
          class="preview-video mt-2"
          style="display: none; max-width: 35%"
          controls
        ></video>
      </div>

      <!-- Botões -->
      <div class="buttons">
        <button
          id="publish-button"
          class="btn btn-danger custom-btn"
          (click)="onPublishPost()"
          [disabled]="!canPublish || loading"
          type="button"
        >
          {{
            loading
              ? ("MODAL.PUBLISHING" | translate)
              : ("MODAL.PUBLISH" | translate)
          }}
        </button>
        <button class="button" (click)="closeModal()">
          {{ "MODAL.CLOSE" | translate }}
        </button>
      </div>
    </div>
  </div>
  <button
    class="modal-close is-large"
    [attr.aria-label]="'MODAL.CLOSE_ARIA_LABEL' | translate"
    (click)="closeModal()"
  ></button>
</div>
