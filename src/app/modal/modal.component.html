<div class="modal" [ngClass]="{ 'is-active': showModal }">
  <div class="modal-background" (click)="closeModal()"></div>
  <div class="modal-content">
    <div class="box">
      <h2>{{ title }}</h2>
      <textarea
        class="form-control mb-2"
        placeholder="O que você vai nos mostrar hoje?"
        [(ngModel)]="postContent"
        (input)="checkFormValidity()"
      ></textarea>

      <div class="d-flex align-items-center mb-2">
        <label class="mr-2" for="upload-image" style="cursor: pointer">
          <mat-icon>add_a_photo</mat-icon>
          <input
            type="file"
            id="upload-image"
            accept="image/*"
            style="display: none"
            (change)="onMediaSelected($event)"
          />
        </label>

        <label class="mr-2" for="upload-media" style="cursor: pointer">
          <mat-icon>subscriptions</mat-icon>
          <input
            type="file"
            id="upload-media"
            accept="image/*,video/*"
            style="display: none"
            (change)="onMediaSelected($event)"
            multiple
          />
        </label>

        <img
          id="preview-image"
          class="preview-image mt-2"
          style="display: none; max-width: 25%"
          alt="Prévia da imagem"
        />
        <video
          id="preview-video"
          class="preview-video mt-2"
          style="display: none; max-width: 35%"
          controls
        ></video>
      </div>

      <p *ngIf="alertMessage" [class]="alertType">{{ alertMessage }}</p>

      <div class="buttons">
        <button
          id="publish-button"
          class="btn btn-danger custom-btn"
          (click)="onPublishPost()"
          [disabled]="!canPublish || loading"
          type="button"
        >
          {{ loading ? "Publicando..." : "Publicar" }}
        </button>
        <button class="button" (click)="closeModal()">Fechar</button>
      </div>
    </div>
  </div>
  <button
    class="modal-close is-large"
    aria-label="close"
    (click)="closeModal()"
  ></button>
</div>
