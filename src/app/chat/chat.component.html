<div class="chat-container">
  <div class="chat-list">
    <h2>Chats</h2>
    <ul>
      <li
        *ngFor="let chat of chats"
        (click)="selectChat(chat)"
        [ngClass]="{ 'active-chat': selectedChat?._id === chat._id }"
      >
        {{ getParticipantName(chat) }}
      </li>
    </ul>
  </div>

  <div class="chat-window" *ngIf="selectedChat">
    <div class="messages">
      <div *ngFor="let message of messages">
        <div
          [ngClass]="{
            'message-sent': message.sender === currentUser._id,
            'message-received': message.receiver === currentUser._id
          }"
        >
          <strong
            >{{
              message.sender === currentUser._id ? "Eu" : message.sender
            }}:</strong
          >
          {{ message.content }}
        </div>
      </div>
    </div>

    <div class="message-input">
      <input [(ngModel)]="newMessage" placeholder="Digite sua mensagem..." />
      <button (click)="sendMessage()">Enviar</button>
    </div>
  </div>
</div>
